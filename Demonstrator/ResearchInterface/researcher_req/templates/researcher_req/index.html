{% extends 'base_res.html' %}

{% block title %}Request{% endblock %}


{% block content %}

<div class="container">
    <h2>Pending Requests</h2>


    <ul class="responsive-table">
        <li class="table-header">
            <div class="col col-1">Request Name</div>
            <div class="col col-2">Request Description</div>
            <div class="col col-3">Operations</div>
            <div class="col col-4">Token</div>
            <!-- <div class="col col-5">Status</div> -->
        </li>
        {% if my_set.requests %}
        {% for request in my_set.requests %}
            {% if request.status != 'REPLIED' %}
            <li class="table-row">
                <div class="col col-1" data-label="Name"><a
                        href="{% url 'researcher_req:request' request.id %}">{{request.text }}</a></div>
                <div class="col col-2" data-label="Description">{{ request.description }}</div>
                <div class="col col-3" data-label="Operations">
                    {% for operation in request.operations %}
                    <ul>
                        {% if operation.chosen_option != -1 %}
                        <li id="minim">{{ operation.text }} : {{operation.chosen_option_text}}</li>
                        {% else %}
                        <li id="minim">{{ operation.text }}</li>
                        {% endif %}
                    </ul>
                    {% endfor %}
                </div>
                <div class="col col-4" data-label="Token">{{ request.token }}</div>
                <!-- <div class="col col-5" data-label="Status">{{ request.status }}</div> -->
            </li>
            {% endif %}
        {% endfor %}
        {% else %}
        <li class="table-row">No requests are available.</li>
        {% endif %}
    </ul>
</div>
<div class="container">
    <h2>Answered Requests</h2>


    <ul class="responsive-table">
        <li class="table-header">
            <div class="col col-1">Request Name</div>
            <div class="col col-2">Request Description</div>
            <div class="col col-3">Operations</div>
            <div class="col col-4">Token</div>
            <!-- <div class="col col-5">Status</div> -->
        </li>
        {% if my_set.requests %}
        {% for request in my_set.requests %}
        {% if request.status == 'REPLIED' %}
            <li class="table-row">
                <div class="col col-1" data-label="Name"><a
                        href="{% url 'researcher_req:request' request.id %}">{{request.text }}</a></div>
                <div class="col col-2" data-label="Description">{{ request.description }}</div>
                <div class="col col-3" data-label="Operations">
                    {% for operation in request.operations %}
                    <ul>
                        {% if operation.chosen_option != -1 %}
                        <li id="minim">{{ operation.text }} : {{operation.chosen_option_text}}</li>
                        {% else %}
                        <li id="minim">{{ operation.text }}</li>
                        {% endif %}
                    </ul>
                    {% endfor %}
                </div>
                <div class="col col-4" data-label="Token">{{ request.token }}</div>
                <!-- <div class="col col-5" data-label="Status">{{ request.status }}</div> -->
            </li>
            {% endif %}
        {% endfor %}
        {% else %}
        <li class="table-row">No requests are available.</li>
        {% endif %}
    </ul>
</div>

{% endblock %}